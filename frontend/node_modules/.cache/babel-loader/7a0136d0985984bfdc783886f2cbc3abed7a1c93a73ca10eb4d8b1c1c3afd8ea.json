{"ast":null,"code":"var _jsxFileName = \"D:\\\\HUTECH\\\\feedback_system\\\\frontend\\\\src\\\\components\\\\NotificationCenter.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { FaBell, FaTimes, FaCheck, FaExclamationCircle, FaInfoCircle, FaCheckCircle } from 'react-icons/fa';\nimport { authAPI } from '../services/api';\nimport { useSocket } from '../services/socket';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NotificationCenter = ({\n  user\n}) => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  const dropdownRef = useRef(null);\n  const hasFetchedRef = useRef(false);\n  const socket = useSocket();\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  const fetchNotifications = useCallback(async (pageNum = 1, append = false) => {\n    // Prevent multiple concurrent calls\n    if (loading) return;\n    try {\n      setLoading(true);\n      const response = await authAPI.getNotifications({\n        page: pageNum,\n        limit: 10\n      });\n      if (response.success) {\n        setNotifications(prev => {\n          const newNotifications = append ? [...prev, ...response.data.notifications] : response.data.notifications;\n          return newNotifications;\n        });\n        setUnreadCount(response.data.pagination.unreadCount);\n        setHasMore(response.data.pagination.currentPage < response.data.pagination.totalPages);\n        setPage(pageNum);\n      }\n    } catch (error) {\n      console.error('🔔 NotificationCenter: Error fetching notifications:', error);\n      toast.error('Không thể tải thông báo');\n    } finally {\n      setLoading(false);\n    }\n  }, [loading]); // Only depend on loading\n\n  const handleNewNotification = useCallback(notificationData => {\n    // Add new notification to the top of the list\n    const newNotification = {\n      _id: Date.now().toString(),\n      // Temporary ID\n      type: notificationData.type || 'system',\n      title: notificationData.title,\n      message: notificationData.message,\n      isRead: false,\n      createdAt: new Date().toISOString(),\n      priority: notificationData.priority || 'medium'\n    };\n    setNotifications(prev => [newNotification, ...prev]);\n    setUnreadCount(prev => prev + 1);\n\n    // Show toast notification\n    toast.success(notificationData.title, {\n      duration: 5000\n    });\n  }, []);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    // Only fetch notifications once when component mounts\n    if (user && !hasFetchedRef.current && !loading) {\n      hasFetchedRef.current = true;\n      fetchNotifications();\n    }\n  }, [user === null || user === void 0 ? void 0 : user._id, fetchNotifications]); // Depend on user and fetchNotifications\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    // Setup socket listeners for real-time notifications\n    if (socket && user) {\n      socket.on('new_feedback_notification', handleNewNotification);\n      socket.on('feedback_assigned_notification', handleNewNotification);\n      socket.on('feedback_updated_notification', handleNewNotification);\n      return () => {\n        socket.off('new_feedback_notification', handleNewNotification);\n        socket.off('feedback_assigned_notification', handleNewNotification);\n        socket.off('feedback_updated_notification', handleNewNotification);\n      };\n    }\n  }, [socket, user === null || user === void 0 ? void 0 : user._id, handleNewNotification]);\n  const markAsRead = async notificationId => {\n    try {\n      await authAPI.markNotificationRead(notificationId);\n      setNotifications(prev => prev.map(notification => notification._id === notificationId ? {\n        ...notification,\n        isRead: true\n      } : notification));\n      setUnreadCount(prev => Math.max(0, prev - 1));\n    } catch (error) {\n      console.error('Error marking notification as read:', error);\n    }\n  };\n  const markAllAsRead = async () => {\n    try {\n      await authAPI.markAllNotificationsRead();\n      setNotifications(prev => prev.map(notification => ({\n        ...notification,\n        isRead: true\n      })));\n      setUnreadCount(0);\n      toast.success('All notifications marked as read');\n    } catch (error) {\n      console.error('Error marking all notifications as read:', error);\n      toast.error('Không thể đánh dấu đã đọc tất cả');\n    }\n  };\n  const loadMore = () => {\n    if (!loading && hasMore) {\n      fetchNotifications(page + 1, true);\n    }\n  };\n  const getNotificationIcon = type => {\n    switch (type) {\n      case 'feedback_received':\n        return /*#__PURE__*/_jsxDEV(FaInfoCircle, {\n          className: \"text-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 16\n        }, this);\n      case 'feedback_assigned':\n        return /*#__PURE__*/_jsxDEV(FaExclamationCircle, {\n          className: \"text-orange-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 16\n        }, this);\n      case 'feedback_updated':\n        return /*#__PURE__*/_jsxDEV(FaCheckCircle, {\n          className: \"text-green-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 16\n        }, this);\n      case 'system':\n        return /*#__PURE__*/_jsxDEV(FaBell, {\n          className: \"text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(FaBell, {\n          className: \"text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case 'high':\n        return 'border-l-red-500';\n      case 'medium':\n        return 'border-l-yellow-500';\n      case 'low':\n        return 'border-l-green-500';\n      default:\n        return 'border-l-gray-300';\n    }\n  };\n  const formatTimeAgo = dateString => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffInMs = now - date;\n    const diffInMinutes = Math.floor(diffInMs / (1000 * 60));\n    const diffInHours = Math.floor(diffInMinutes / 60);\n    const diffInDays = Math.floor(diffInHours / 24);\n    if (diffInMinutes < 1) return 'Just now';\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\n    if (diffInHours < 24) return `${diffInHours}h ago`;\n    if (diffInDays < 7) return `${diffInDays}d ago`;\n    return date.toLocaleDateString();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    ref: dropdownRef,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsOpen(!isOpen),\n      className: \"relative p-2 text-gray-600 hover:text-gray-900 transition-colors\",\n      children: [/*#__PURE__*/_jsxDEV(FaBell, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse\",\n        children: unreadCount > 9 ? '9+' : unreadCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b border-gray-200 bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900\",\n            children: [\"Notifications\", unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full\",\n              children: [unreadCount, \" new\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: markAllAsRead,\n              className: \"text-sm text-blue-600 hover:text-blue-800\",\n              children: \"\\u0110\\xE1nh d\\u1EA5u \\u0111\\xE3 \\u0111\\u1ECDc t\\u1EA5t c\\u1EA3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsOpen(false),\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-h-80 overflow-y-auto\",\n        children: loading && notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 text-center text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2\",\n            children: \"\\u0110ang t\\u1EA3i th\\xF4ng b\\xE1o...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 15\n        }, this) : notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-8 text-center text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(FaBell, {\n            size: 24,\n            className: \"mx-auto mb-2 opacity-50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Ch\\u01B0a c\\xF3 th\\xF4ng b\\xE1o n\\xE0o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer border-l-4 ${getPriorityColor(notification.priority)} ${!notification.isRead ? 'bg-blue-50' : ''}`,\n            onClick: () => !notification.isRead && markAsRead(notification._id),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-shrink-0 mt-1\",\n                children: getNotificationIcon(notification.type)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 min-w-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: `text-sm font-medium ${!notification.isRead ? 'text-gray-900' : 'text-gray-700'}`,\n                    children: notification.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 27\n                  }, this), !notification.isRead && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 mt-1 line-clamp-2\",\n                  children: notification.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-500\",\n                    children: formatTimeAgo(notification.createdAt)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 27\n                  }, this), !notification.isRead && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: e => {\n                      e.stopPropagation();\n                      markAsRead(notification._id);\n                    },\n                    className: \"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(FaCheck, {\n                      size: 10\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 31\n                    }, this), \"Mark read\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 21\n            }, this)\n          }, notification._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 19\n          }, this)), hasMore && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 text-center border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: loadMore,\n              disabled: loading,\n              className: \"text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50\",\n              children: loading ? 'Loading...' : 'Load more notifications'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 border-t border-gray-200 bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setIsOpen(false);\n            // Navigate to notifications page if exists\n            window.location.href = '/notifications';\n          },\n          className: \"w-full text-sm text-center text-blue-600 hover:text-blue-800\",\n          children: \"Xem t\\u1EA5t c\\u1EA3 th\\xF4ng b\\xE1o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n};\n_s(NotificationCenter, \"i+GddcdHRAX6/S+B1TtfS+iHiWI=\", false, function () {\n  return [useSocket];\n});\n_c = NotificationCenter;\nexport default NotificationCenter;\nvar _c;\n$RefreshReg$(_c, \"NotificationCenter\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","FaBell","FaTimes","FaCheck","FaExclamationCircle","FaInfoCircle","FaCheckCircle","authAPI","useSocket","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","NotificationCenter","user","_s","isOpen","setIsOpen","notifications","setNotifications","unreadCount","setUnreadCount","loading","setLoading","page","setPage","hasMore","setHasMore","dropdownRef","hasFetchedRef","socket","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","fetchNotifications","pageNum","append","response","getNotifications","limit","success","prev","newNotifications","data","pagination","currentPage","totalPages","error","console","handleNewNotification","notificationData","newNotification","_id","Date","now","toString","type","title","message","isRead","createdAt","toISOString","priority","duration","on","off","markAsRead","notificationId","markNotificationRead","map","notification","Math","max","markAllAsRead","markAllNotificationsRead","loadMore","getNotificationIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getPriorityColor","formatTimeAgo","dateString","date","diffInMs","diffInMinutes","floor","diffInHours","diffInDays","toLocaleDateString","ref","children","onClick","size","length","e","stopPropagation","disabled","window","location","href","_c","$RefreshReg$"],"sources":["D:/HUTECH/feedback_system/frontend/src/components/NotificationCenter.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { FaBell, FaTimes, FaCheck, FaExclamationCircle, FaInfoCircle, FaCheckCircle } from 'react-icons/fa';\r\nimport { authAPI } from '../services/api';\r\nimport { useSocket } from '../services/socket';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst NotificationCenter = ({ user }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const dropdownRef = useRef(null);\r\n  const hasFetchedRef = useRef(false);\r\n  const socket = useSocket();\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const fetchNotifications = useCallback(async (pageNum = 1, append = false) => {\r\n    // Prevent multiple concurrent calls\r\n    if (loading) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      \r\n      const response = await authAPI.getNotifications({\r\n        page: pageNum,\r\n        limit: 10\r\n      });\r\n\r\n      if (response.success) {\r\n        setNotifications(prev => {\r\n          const newNotifications = append \r\n            ? [...prev, ...response.data.notifications]\r\n            : response.data.notifications;\r\n          return newNotifications;\r\n        });\r\n        setUnreadCount(response.data.pagination.unreadCount);\r\n        setHasMore(response.data.pagination.currentPage < response.data.pagination.totalPages);\r\n        setPage(pageNum);\r\n      }\r\n    } catch (error) {\r\n      console.error('🔔 NotificationCenter: Error fetching notifications:', error);\r\n      toast.error('Không thể tải thông báo');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [loading]); // Only depend on loading\r\n\r\n  const handleNewNotification = useCallback((notificationData) => {\r\n    // Add new notification to the top of the list\r\n    const newNotification = {\r\n      _id: Date.now().toString(), // Temporary ID\r\n      type: notificationData.type || 'system',\r\n      title: notificationData.title,\r\n      message: notificationData.message,\r\n      isRead: false,\r\n      createdAt: new Date().toISOString(),\r\n      priority: notificationData.priority || 'medium'\r\n    };\r\n\r\n    setNotifications(prev => [newNotification, ...prev]);\r\n    setUnreadCount(prev => prev + 1);\r\n\r\n    // Show toast notification\r\n    toast.success(notificationData.title, {\r\n      duration: 5000\r\n    });\r\n  }, []);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(() => {\r\n    // Only fetch notifications once when component mounts\r\n    if (user && !hasFetchedRef.current && !loading) {\r\n      hasFetchedRef.current = true;\r\n      fetchNotifications();\r\n    }\r\n  }, [user?._id, fetchNotifications]); // Depend on user and fetchNotifications\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  useEffect(() => {\r\n    // Setup socket listeners for real-time notifications\r\n    if (socket && user) {\r\n      socket.on('new_feedback_notification', handleNewNotification);\r\n      socket.on('feedback_assigned_notification', handleNewNotification);\r\n      socket.on('feedback_updated_notification', handleNewNotification);\r\n      \r\n      return () => {\r\n        socket.off('new_feedback_notification', handleNewNotification);\r\n        socket.off('feedback_assigned_notification', handleNewNotification);\r\n        socket.off('feedback_updated_notification', handleNewNotification);\r\n      };\r\n    }\r\n  }, [socket, user?._id, handleNewNotification]);\r\n\r\n  const markAsRead = async (notificationId) => {\r\n    try {\r\n      await authAPI.markNotificationRead(notificationId);\r\n      \r\n      setNotifications(prev => \r\n        prev.map(notification => \r\n          notification._id === notificationId \r\n            ? { ...notification, isRead: true }\r\n            : notification\r\n        )\r\n      );\r\n      \r\n      setUnreadCount(prev => Math.max(0, prev - 1));\r\n    } catch (error) {\r\n      console.error('Error marking notification as read:', error);\r\n    }\r\n  };\r\n\r\n  const markAllAsRead = async () => {\r\n    try {\r\n      await authAPI.markAllNotificationsRead();\r\n      \r\n      setNotifications(prev => \r\n        prev.map(notification => ({ ...notification, isRead: true }))\r\n      );\r\n      \r\n      setUnreadCount(0);\r\n      toast.success('All notifications marked as read');\r\n    } catch (error) {\r\n      console.error('Error marking all notifications as read:', error);\r\n      toast.error('Không thể đánh dấu đã đọc tất cả');\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    if (!loading && hasMore) {\r\n      fetchNotifications(page + 1, true);\r\n    }\r\n  };\r\n\r\n  const getNotificationIcon = (type) => {\r\n    switch (type) {\r\n      case 'feedback_received':\r\n        return <FaInfoCircle className=\"text-blue-500\" />;\r\n      case 'feedback_assigned':\r\n        return <FaExclamationCircle className=\"text-orange-500\" />;\r\n      case 'feedback_updated':\r\n        return <FaCheckCircle className=\"text-green-500\" />;\r\n      case 'system':\r\n        return <FaBell className=\"text-gray-500\" />;\r\n      default:\r\n        return <FaBell className=\"text-gray-500\" />;\r\n    }\r\n  };\r\n\r\n  const getPriorityColor = (priority) => {\r\n    switch (priority) {\r\n      case 'high':\r\n        return 'border-l-red-500';\r\n      case 'medium':\r\n        return 'border-l-yellow-500';\r\n      case 'low':\r\n        return 'border-l-green-500';\r\n      default:\r\n        return 'border-l-gray-300';\r\n    }\r\n  };\r\n\r\n  const formatTimeAgo = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInMs = now - date;\r\n    const diffInMinutes = Math.floor(diffInMs / (1000 * 60));\r\n    const diffInHours = Math.floor(diffInMinutes / 60);\r\n    const diffInDays = Math.floor(diffInHours / 24);\r\n\r\n    if (diffInMinutes < 1) return 'Just now';\r\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\r\n    if (diffInHours < 24) return `${diffInHours}h ago`;\r\n    if (diffInDays < 7) return `${diffInDays}d ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      {/* Notification Bell */}\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"relative p-2 text-gray-600 hover:text-gray-900 transition-colors\"\r\n      >\r\n        <FaBell size={20} />\r\n        {unreadCount > 0 && (\r\n          <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-pulse\">\r\n            {unreadCount > 9 ? '9+' : unreadCount}\r\n          </span>\r\n        )}\r\n      </button>\r\n\r\n      {/* Notification Dropdown */}\r\n      {isOpen && (\r\n        <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-hidden\">\r\n          {/* Header */}\r\n          <div className=\"p-4 border-b border-gray-200 bg-gray-50\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                Notifications\r\n                {unreadCount > 0 && (\r\n                  <span className=\"ml-2 bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full\">\r\n                    {unreadCount} new\r\n                  </span>\r\n                )}\r\n              </h3>\r\n              <div className=\"flex items-center gap-2\">\r\n                {unreadCount > 0 && (\r\n                  <button\r\n                    onClick={markAllAsRead}\r\n                    className=\"text-sm text-blue-600 hover:text-blue-800\"\r\n                  >\r\n                    Đánh dấu đã đọc tất cả\r\n                  </button>\r\n                )}\r\n                <button\r\n                  onClick={() => setIsOpen(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <FaTimes />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Notifications List */}\r\n          <div className=\"max-h-80 overflow-y-auto\">\r\n            {loading && notifications.length === 0 ? (\r\n              <div className=\"p-4 text-center text-gray-500\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto\"></div>\r\n                <p className=\"mt-2\">Đang tải thông báo...</p>\r\n              </div>\r\n            ) : notifications.length === 0 ? (\r\n              <div className=\"p-8 text-center text-gray-500\">\r\n                <FaBell size={24} className=\"mx-auto mb-2 opacity-50\" />\r\n                <p>Chưa có thông báo nào</p>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {notifications.map((notification) => (\r\n                  <div\r\n                    key={notification._id}\r\n                    className={`p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer border-l-4 ${getPriorityColor(notification.priority)} ${\r\n                      !notification.isRead ? 'bg-blue-50' : ''\r\n                    }`}\r\n                    onClick={() => !notification.isRead && markAsRead(notification._id)}\r\n                  >\r\n                    <div className=\"flex items-start gap-3\">\r\n                      <div className=\"flex-shrink-0 mt-1\">\r\n                        {getNotificationIcon(notification.type)}\r\n                      </div>\r\n                      \r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <h4 className={`text-sm font-medium ${\r\n                            !notification.isRead ? 'text-gray-900' : 'text-gray-700'\r\n                          }`}>\r\n                            {notification.title}\r\n                          </h4>\r\n                          {!notification.isRead && (\r\n                            <div className=\"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0\"></div>\r\n                          )}\r\n                        </div>\r\n                        \r\n                        <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">\r\n                          {notification.message}\r\n                        </p>\r\n                        \r\n                        <div className=\"flex items-center justify-between mt-2\">\r\n                          <span className=\"text-xs text-gray-500\">\r\n                            {formatTimeAgo(notification.createdAt)}\r\n                          </span>\r\n                          \r\n                          {!notification.isRead && (\r\n                            <button\r\n                              onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                markAsRead(notification._id);\r\n                              }}\r\n                              className=\"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1\"\r\n                            >\r\n                              <FaCheck size={10} />\r\n                              Mark read\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n\r\n                {/* Load More Button */}\r\n                {hasMore && (\r\n                  <div className=\"p-4 text-center border-t border-gray-200\">\r\n                    <button\r\n                      onClick={loadMore}\r\n                      disabled={loading}\r\n                      className=\"text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50\"\r\n                    >\r\n                      {loading ? 'Loading...' : 'Load more notifications'}\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"p-3 border-t border-gray-200 bg-gray-50\">\r\n            <button\r\n              onClick={() => {\r\n                setIsOpen(false);\r\n                // Navigate to notifications page if exists\r\n                window.location.href = '/notifications';\r\n              }}\r\n              className=\"w-full text-sm text-center text-blue-600 hover:text-blue-800\"\r\n            >\r\n              Xem tất cả thông báo\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationCenter;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}