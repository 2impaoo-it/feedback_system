{"ast":null,"code":"var _jsxFileName = \"D:\\\\HUTECH\\\\feedback_system\\\\frontend\\\\src\\\\components\\\\AdminReplyModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { FiCornerUpLeft, FiX } from 'react-icons/fi';\nimport { feedbackAPI } from '../services/api';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminReplyModal = ({\n  isOpen,\n  onClose,\n  feedback,\n  onReplySuccess\n}) => {\n  _s();\n  var _feedback$customerId, _feedback$customerId2, _feedback$adminReply, _feedback$adminReply$;\n  const [replyContent, setReplyContent] = useState('');\n  const [newStatus, setNewStatus] = useState((feedback === null || feedback === void 0 ? void 0 : feedback.status) || 'received');\n  const [loading, setLoading] = useState(false);\n  if (!isOpen || !feedback) return null;\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!replyContent.trim()) {\n      toast.error('Vui lòng nhập nội dung phản hồi');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await feedbackAPI.reply(feedback._id, {\n        content: replyContent.trim(),\n        status: newStatus\n      });\n      if (response.success) {\n        toast.success('Phản hồi thành công');\n        onReplySuccess === null || onReplySuccess === void 0 ? void 0 : onReplySuccess(response.data);\n        onClose();\n        setReplyContent('');\n      } else {\n        toast.error(response.message || 'Lỗi khi gửi phản hồi');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Reply error:', error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Lỗi khi gửi phản hồi');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'submitted':\n        return 'text-blue-600 bg-blue-50';\n      case 'received':\n        return 'text-yellow-600 bg-yellow-50';\n      case 'resolved':\n        return 'text-green-600 bg-green-50';\n      default:\n        return 'text-gray-600 bg-gray-50';\n    }\n  };\n  const getStatusText = status => {\n    switch (status) {\n      case 'submitted':\n        return 'Đã gửi';\n      case 'received':\n        return 'Đã tiếp nhận';\n      case 'resolved':\n        return 'Đã xử lý';\n      default:\n        return status;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        scale: 0.9\n      },\n      animate: {\n        opacity: 1,\n        scale: 1\n      },\n      exit: {\n        opacity: 0,\n        scale: 0.9\n      },\n      className: \"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between p-6 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-900\",\n            children: \"Ph\\u1EA3n h\\u1ED3i Feedback\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"G\\u1EEDi ph\\u1EA3n h\\u1ED3i cho kh\\xE1ch h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-400 hover:text-gray-600 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(FiX, {\n            className: \"w-6 h-6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-900 mb-2\",\n            children: \"Th\\xF4ng tin Feedback\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"font-medium text-gray-900 mb-1\",\n                  children: feedback.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [\"T\\u1EEB: \", (_feedback$customerId = feedback.customerId) === null || _feedback$customerId === void 0 ? void 0 : _feedback$customerId.firstName, \" \", (_feedback$customerId2 = feedback.customerId) === null || _feedback$customerId2 === void 0 ? void 0 : _feedback$customerId2.lastName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: new Date(feedback.createdAt).toLocaleString('vi-VN')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(feedback.status)}`,\n                children: getStatusText(feedback.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-700\",\n              children: feedback.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), ((_feedback$adminReply = feedback.adminReply) === null || _feedback$adminReply === void 0 ? void 0 : _feedback$adminReply.content) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-900 mb-2\",\n            children: \"Ph\\u1EA3n h\\u1ED3i hi\\u1EC7n t\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-700 mb-2\",\n              children: feedback.adminReply.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500\",\n              children: [\"Ph\\u1EA3n h\\u1ED3i b\\u1EDFi: \", (_feedback$adminReply$ = feedback.adminReply.repliedBy) === null || _feedback$adminReply$ === void 0 ? void 0 : _feedback$adminReply$.email, \" \\u2022 \", ' ', new Date(feedback.adminReply.repliedAt).toLocaleString('vi-VN')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"N\\u1ED9i dung ph\\u1EA3n h\\u1ED3i *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: replyContent,\n            onChange: e => setReplyContent(e.target.value),\n            rows: 6,\n            className: \"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n            placeholder: \"Nh\\u1EADp n\\u1ED9i dung ph\\u1EA3n h\\u1ED3i cho kh\\xE1ch h\\xE0ng...\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: [replyContent.length, \"/2000 k\\xFD t\\u1EF1\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"C\\u1EADp nh\\u1EADt tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newStatus,\n            onChange: e => setNewStatus(e.target.value),\n            className: \"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"submitted\",\n              children: \"\\u0110\\xE3 g\\u1EEDi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"received\",\n              children: \"\\u0110\\xE3 ti\\u1EBFp nh\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"resolved\",\n              children: \"\\u0110\\xE3 x\\u1EED l\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            disabled: loading,\n            className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\",\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading || !replyContent.trim(),\n            className: \"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  className: \"opacity-25\",\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"10\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  className: \"opacity-75\",\n                  fill: \"currentColor\",\n                  d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this), \"\\u0110ang g\\u1EEDi...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(FiCornerUpLeft, {\n                className: \"mr-2 h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this), \"G\\u1EEDi ph\\u1EA3n h\\u1ED3i\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminReplyModal, \"73LD6g3OoMnehgcqMgg9k2D6TZ0=\");\n_c = AdminReplyModal;\nexport default AdminReplyModal;\nvar _c;\n$RefreshReg$(_c, \"AdminReplyModal\");","map":{"version":3,"names":["React","useState","motion","FiCornerUpLeft","FiX","feedbackAPI","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminReplyModal","isOpen","onClose","feedback","onReplySuccess","_s","_feedback$customerId","_feedback$customerId2","_feedback$adminReply","_feedback$adminReply$","replyContent","setReplyContent","newStatus","setNewStatus","status","loading","setLoading","handleSubmit","e","preventDefault","trim","error","response","reply","_id","content","success","data","message","_error$response","_error$response$data","console","getStatusColor","getStatusText","className","children","div","initial","opacity","scale","animate","exit","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","customerId","firstName","lastName","Date","createdAt","toLocaleString","adminReply","repliedBy","email","repliedAt","onSubmit","value","onChange","target","rows","placeholder","required","length","type","disabled","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","_c","$RefreshReg$"],"sources":["D:/HUTECH/feedback_system/frontend/src/components/AdminReplyModal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { FiCornerUpLeft, FiX } from 'react-icons/fi';\r\nimport { feedbackAPI } from '../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst AdminReplyModal = ({ \r\n  isOpen, \r\n  onClose, \r\n  feedback,\r\n  onReplySuccess \r\n}) => {\r\n  const [replyContent, setReplyContent] = useState('');\r\n  const [newStatus, setNewStatus] = useState(feedback?.status || 'received');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  if (!isOpen || !feedback) return null;\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!replyContent.trim()) {\r\n      toast.error('Vui lòng nhập nội dung phản hồi');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await feedbackAPI.reply(feedback._id, {\r\n        content: replyContent.trim(),\r\n        status: newStatus\r\n      });\r\n\r\n      if (response.success) {\r\n        toast.success('Phản hồi thành công');\r\n        onReplySuccess?.(response.data);\r\n        onClose();\r\n        setReplyContent('');\r\n      } else {\r\n        toast.error(response.message || 'Lỗi khi gửi phản hồi');\r\n      }\r\n    } catch (error) {\r\n      console.error('Reply error:', error);\r\n      toast.error(error.response?.data?.message || 'Lỗi khi gửi phản hồi');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'submitted':\r\n        return 'text-blue-600 bg-blue-50';\r\n      case 'received':\r\n        return 'text-yellow-600 bg-yellow-50';\r\n      case 'resolved':\r\n        return 'text-green-600 bg-green-50';\r\n      default:\r\n        return 'text-gray-600 bg-gray-50';\r\n    }\r\n  };\r\n\r\n  const getStatusText = (status) => {\r\n    switch (status) {\r\n      case 'submitted':\r\n        return 'Đã gửi';\r\n      case 'received':\r\n        return 'Đã tiếp nhận';\r\n      case 'resolved':\r\n        return 'Đã xử lý';\r\n      default:\r\n        return status;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.9 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        exit={{ opacity: 0, scale: 0.9 }}\r\n        className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\"\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n          <div>\r\n            <h3 className=\"text-lg font-medium text-gray-900\">\r\n              Phản hồi Feedback\r\n            </h3>\r\n            <p className=\"text-sm text-gray-500 mt-1\">\r\n              Gửi phản hồi cho khách hàng\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n          >\r\n            <FiX className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Feedback Info */}\r\n        <div className=\"p-6 border-b border-gray-200\">\r\n          <div className=\"mb-4\">\r\n            <h4 className=\"text-sm font-medium text-gray-900 mb-2\">\r\n              Thông tin Feedback\r\n            </h4>\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <div className=\"flex items-start justify-between mb-3\">\r\n                <div className=\"flex-1\">\r\n                  <h5 className=\"font-medium text-gray-900 mb-1\">\r\n                    {feedback.title}\r\n                  </h5>\r\n                  <p className=\"text-sm text-gray-600\">\r\n                    Từ: {feedback.customerId?.firstName} {feedback.customerId?.lastName}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    {new Date(feedback.createdAt).toLocaleString('vi-VN')}\r\n                  </p>\r\n                </div>\r\n                <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(feedback.status)}`}>\r\n                  {getStatusText(feedback.status)}\r\n                </span>\r\n              </div>\r\n              <div className=\"text-sm text-gray-700\">\r\n                {feedback.content}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Existing Reply */}\r\n          {feedback.adminReply?.content && (\r\n            <div className=\"mb-4\">\r\n              <h4 className=\"text-sm font-medium text-gray-900 mb-2\">\r\n                Phản hồi hiện tại\r\n              </h4>\r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n                <div className=\"text-sm text-gray-700 mb-2\">\r\n                  {feedback.adminReply.content}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                  Phản hồi bởi: {feedback.adminReply.repliedBy?.email} • {' '}\r\n                  {new Date(feedback.adminReply.repliedAt).toLocaleString('vi-VN')}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Reply Form */}\r\n        <form onSubmit={handleSubmit} className=\"p-6\">\r\n          <div className=\"mb-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Nội dung phản hồi *\r\n            </label>\r\n            <textarea\r\n              value={replyContent}\r\n              onChange={(e) => setReplyContent(e.target.value)}\r\n              rows={6}\r\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n              placeholder=\"Nhập nội dung phản hồi cho khách hàng...\"\r\n              required\r\n            />\r\n            <div className=\"text-xs text-gray-500 mt-1\">\r\n              {replyContent.length}/2000 ký tự\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"mb-6\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Cập nhật trạng thái\r\n            </label>\r\n            <select\r\n              value={newStatus}\r\n              onChange={(e) => setNewStatus(e.target.value)}\r\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n            >\r\n              <option value=\"submitted\">Đã gửi</option>\r\n              <option value=\"received\">Đã tiếp nhận</option>\r\n              <option value=\"resolved\">Đã xử lý</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex justify-end space-x-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              disabled={loading}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\r\n            >\r\n              Hủy\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || !replyContent.trim()}\r\n              className=\"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                  Đang gửi...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <FiCornerUpLeft className=\"mr-2 h-4 w-4\" />\r\n                  Gửi phản hồi\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminReplyModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}